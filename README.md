# نظام إدارة الحسابات العقارية BroMan

![BroMan Logo](src/static/images/broman_logo.png)

نظام شامل لإدارة الحسابات والمعاملات المالية لشركات الوساطة العقارية، مطور خصيصاً لشركة BroMan.

## 🌟 المميزات الرئيسية

- **إدارة معاملات البيع**: نظام شامل لإدارة معاملات بيع العقارات مع حسابات تلقائية للعمولات والضرائب
- **إدارة الخزنة**: تتبع دقيق لرصيد الشركة والمعاملات المالية
- **نظام المستخدمين**: إدارة متقدمة للمستخدمين مع صلاحيات مرنة
- **التقارير والإحصائيات**: مخططات بيانية تفاعلية وتقارير مالية شاملة
- **واجهة عربية**: دعم كامل للغة العربية مع تصميم RTL
- **تصميم متجاوب**: يعمل على جميع الأجهزة والشاشات

## 🚀 التقنيات المستخدمة

- **الخلفية**: Python 3.11+ مع Flask
- **قاعدة البيانات**: SQLite مع SQLAlchemy ORM
- **الواجهة الأمامية**: HTML5, CSS3, JavaScript مع Bootstrap 5
- **المخططات البيانية**: Chart.js
- **المصادقة**: Flask-Login مع تشفير كلمات المرور

## 📋 متطلبات النظام

### الخادم الرئيسي
- **نظام التشغيل**: Windows 10+ أو Linux (Ubuntu 20.04+)
- **المعالج**: 2.0 GHz أو أعلى
- **الذاكرة**: 4 GB RAM (8 GB مُنصح به)
- **التخزين**: 10 GB مساحة فارغة
- **Python**: 3.11 أو أحدث

### أجهزة العملاء
- **نظام التشغيل**: أي نظام يدعم متصفح ويب حديث
- **المتصفح**: Chrome 90+, Firefox 88+, Edge 90+, Safari 14+
- **الذاكرة**: 2 GB RAM (4 GB مُنصح به)
- **الشبكة**: اتصال بالشبكة المحلية

## 🔧 التثبيت والإعداد

### 1. تحميل المشروع

```bash
git clone https://github.com/ukbingoopaysafe/Broman_Acc1.git
cd Broman_Acc1
```

### 2. إنشاء البيئة الافتراضية

```bash
python -m venv broman_env

# Windows
broman_env\Scripts\activate

# Linux/Mac
source broman_env/bin/activate
```

### 3. تثبيت المتطلبات

```bash
pip install -r requirements.txt
```

### 4. إعداد قاعدة البيانات

```bash
python src/utils/init_data.py
```

### 5. تشغيل النظام

```bash
python src/main.py
```

النظام سيعمل على العنوان: `http://localhost:5000`

## 👤 بيانات الدخول الافتراضية

- **اسم المستخدم**: admin
- **كلمة المرور**: admin123

⚠️ **مهم**: يُرجى تغيير كلمة المرور فور تسجيل الدخول الأول

## 📁 هيكل المشروع

```
broman_accounting/
├── src/
│   ├── main.py                 # الملف الرئيسي للتطبيق
│   ├── models/                 # نماذج قاعدة البيانات
│   │   ├── database.py
│   │   ├── user.py
│   │   ├── sale.py
│   │   ├── treasury.py
│   │   └── transaction.py
│   ├── routes/                 # مسارات التطبيق
│   │   ├── auth.py
│   │   ├── dashboard.py
│   │   ├── sales.py
│   │   ├── treasury.py
│   │   └── user.py
│   ├── templates/              # قوالب HTML
│   ├── static/                 # الملفات الثابتة
│   │   ├── css/
│   │   ├── js/
│   │   └── images/
│   └── utils/                  # أدوات مساعدة
├── docs/                       # الوثائق
├── requirements.txt            # متطلبات Python
└── README.md
```

## 🎯 الاستخدام الأساسي

### 1. تسجيل الدخول
- افتح المتصفح واذهب إلى `http://localhost:5000`
- أدخل بيانات الدخول الافتراضية
- ستتم إعادة توجيهك إلى لوحة التحكم

### 2. إضافة معاملة بيع جديدة
- اذهب إلى قسم "العقارات" → "معاملات البيع"
- انقر على "إضافة معاملة جديدة"
- املأ البيانات المطلوبة
- انقر على "معاينة الحسابات" لمراجعة الحسابات
- احفظ المعاملة

### 3. إدارة الخزنة
- اذهب إلى قسم "الخزنة"
- راجع الرصيد الحالي والإحصائيات
- أضف معاملات مالية يدوية إذا لزم الأمر

### 4. إدارة المستخدمين
- اذهب إلى قسم "الإدارة" → "المستخدمين"
- أضف مستخدمين جدد وحدد صلاحياتهم
- عدّل الصلاحيات حسب الحاجة

## 📊 الحسابات المالية

النظام يحسب تلقائياً:

- **عمولة الشركة**: حسب نوع العقار
- **عمولة مندوب المبيعات**: نسبة من عمولة الشركة
- **حافز مندوب المبيعات**: حافز إضافي
- **ضريبة الحافز الإضافي**: على الحافز
- **ضريبة القيمة المضافة**: 14%
- **ضريبة المبيعات**: 5%
- **الضريبة السنوية**: 22.5%
- **عمولة مدير المبيعات**: نسبة من العمولة
- **صافي دخل الشركة**: يُضاف تلقائياً للخزنة

## 🔐 الأمان

- تشفير كلمات المرور باستخدام bcrypt
- نظام جلسات آمن مع Flask-Login
- صلاحيات مستخدمين متدرجة
- حماية من هجمات CSRF
- تسجيل جميع العمليات المهمة

## 🛠️ الصيانة

### النسخ الاحتياطي
```bash
# نسخ ملف قاعدة البيانات
cp broman.db backup/broman_backup_$(date +%Y%m%d).db
```

### تحديث النظام
```bash
git pull origin main
pip install -r requirements.txt --upgrade
```

### مراقبة الأداء
- راقب استخدام الذاكرة والمعالج
- نظف قاعدة البيانات دورياً باستخدام VACUUM
- أرشف البيانات القديمة عند الحاجة

## 🐛 حل المشاكل الشائعة

### النظام لا يبدأ
1. تأكد من تثبيت Python 3.11+
2. تأكد من تثبيت جميع المتطلبات
3. تحقق من ملفات الإعداد

### لا يمكن الوصول من الشبكة
1. تأكد من أن النظام يستمع على `0.0.0.0`
2. تحقق من إعدادات جدار الحماية
3. تأكد من اتصال جميع الأجهزة بنفس الشبكة

### بطء في الأداء
1. راقب موارد النظام
2. نظف قاعدة البيانات
3. أرشف البيانات القديمة

## 📚 الوثائق

- [دليل المستخدم الشامل](docs/user_manual.md)
- [دليل التثبيت والنشر](docs/installation_guide.md)
- [دليل حل المشاكل](docs/troubleshooting_guide.md)

## 🤝 المساهمة

هذا المشروع مطور خصيصاً لشركة BroMan. للتطوير والتحسين:

1. انشئ فرع جديد للميزة المطلوبة
2. اختبر التغييرات بدقة
3. أرسل طلب دمج مع وصف مفصل

## 📄 الترخيص

هذا المشروع مطور خصيصاً لشركة BroMan للوساطة العقارية. جميع الحقوق محفوظة.

## 📞 الدعم الفني

للحصول على الدعم الفني أو الإبلاغ عن مشاكل:

- **البريد الإلكتروني**: support@broman.com
- **الهاتف**: +20-XXX-XXX-XXXX
- **العنوان**: [عنوان الشركة]

## 📈 الإصدارات

### الإصدار 1.0 (سبتمبر 2025)
- الإصدار الأولي
- إدارة معاملات البيع
- إدارة الخزنة والمعاملات المالية
- نظام المستخدمين والصلاحيات
- التقارير والإحصائيات الأساسية

---

**تم التطوير بواسطة**: Manus AI  
**تاريخ آخر تحديث**: سبتمبر 2025  
**الإصدار**: 1.0

